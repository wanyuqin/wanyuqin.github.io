<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>日常学习 | Ethan_Gogo</title>
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/index.xml">
<link rel="alternate" hreflang="en" href="http://localhost:1313/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Ethan_Gogo (Alt + H)">Ethan_Gogo</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>
    日常学习
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">GMP模型
    </h2>
  </header>
  <div class="entry-content">
    <p>Golang的GMP模型 Golang对协程的处理 ...</p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to GMP模型" href="http://localhost:1313/golang%E7%9A%84gmp%E6%A8%A1%E5%9E%8B/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">go context的基本使用
    </h2>
  </header>
  <div class="entry-content">
    <p>Go Context的基本使用 此文章主要是用来介绍一下golang里面context的使用，因为之前一直不太清楚context的用法，以及context的一些基本特性。
...</p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to go context的基本使用" href="http://localhost:1313/go-context%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Go语言学习
    </h2>
  </header>
  <div class="entry-content">
    <p>3 个环境变量，也就是 GOROOT、GOPATH 和 GOBIN。这里我可以简单介绍一下。
GOROOT：Go 语言安装根目录的路径，也就是 GO 语言的安装路径。 GOPATH：若干工作区目录的路径。是我们自己定义的工作空间。 GOBIN：GO 程序生成的可执行文件（executable file）的路径。 go build 命令一些可选项的用途和用法 在运行go build命令的时候，默认不会编译目标代码包所依赖的那些代码包。当然，如果被依赖的代码包的归档文件不存在，或者源码文件有了变化，那它还是会被编译。
如果要强制编译它们，可以在执行命令的时候加入标记-a。此时，不但目标代码包总是会被编译，它依赖的代码包也总会被编译，即使依赖的是标准库中的代码包也是如此。
另外，如果不但要编译依赖的代码包，还要安装它们的归档文件，那么可以加入标记-i。
那么我们怎么确定哪些代码包被编译了呢？有两种方法。
运行go build命令时加入标记-x，这样可以看到go build命令具体都执行了哪些操作。另外也可以加入标记-n，这样可以只查看具体操作而不执行它们。 运行go build命令时加入标记-v，这样可以看到go build命令编译的代码包的名称。它在与-a标记搭配使用时很有用。 下面再说一说与 Go 源码的安装联系很紧密的一个命令：go get。
命令go get会自动从一些主流公用代码仓库（比如 GitHub）下载目标代码包，并把它们安装到环境变量GOPATH包含的第 1 工作区的相应目录中。如果存在环境变量GOBIN，那么仅包含命令源码文件的代码包会被安装到GOBIN指向的那个目录。
最常用的几个标记有下面几种。
-u：下载并安装代码包，不论工作区中是否已存在它们。 -d：只下载代码包，不安装代码包。 -fix：在下载代码包后先运行一个用于根据当前 Go 语言版本修正代码的工具，然后再安装代码包。 -t：同时下载测试所需的代码包。 -insecure：允许通过非安全的网络协议下载和安装代码包。HTTP 就是这样的协议。 Go 语言官方提供的go get命令是比较基础的，其中并没有提供依赖管理的功能。目前 GitHub 上有很多提供这类功能的第三方工具，比如glide、gb以及官方出品的dep、vgo等等，它们在内部大都会直接使用go get。
</p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to Go语言学习" href="http://localhost:1313/go%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">IO多路复用
    </h2>
  </header>
  <div class="entry-content">
    <p>IO多路复用 同一时刻，一个线程(进程)监听多个IO请求
...</p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to IO多路复用" href="http://localhost:1313/io%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Kong自定义插件初体验
    </h2>
  </header>
  <div class="entry-content">
    <p>此文章记录一下Kong自定义插件初次编写的过程，如果文章中有错误请及时提醒并帮忙更正
安装开发环境 这里使用Pongo 来进行插件的测试，而Pongo的使用需要具备docker-compose和curl，再这些都具备之后就可以安装Pongo CLI了
PATH=$PATH:~/.local/bin git clone https://github.com/Kong/kong-pongo.git mkdir -p ~/.local/bin ln -s $(realpath kong-pongo/pongo.sh) ~/.local/bin/pongo 参考插件模版 kong-plugin 为我们提供了一个简单的插件模版，这个模版使用的是Lua语言进行的开发
git clone https://github.com/Kong/kong-plugin.git kong-api-version-plugin 打开这个项目 目录结构 kong/plugins 插件内容主要存放的目录，plugins下面的每个文件夹都表示一个功能插件 spec 测试文件存放的目录 这里我把原来的文件名以及插件名称修改成了api-version，再修改完成之后我们可以执行一下 pongo run ,此命令会将spec目录下的测试方法全部执行一遍，以保证我们的插件编写无误，同时pongo run会将我们的插件进行加载。
在我们的测试通过之后，我们就可以先尝试对kong进行插件安装了，我们执行 pongo shell	进入到pongo的控制台，初始化kong的表，并且启动kong
kong migrations bootstrap --force kong start 再启动完kong之后，我们进行验证 执行curl -i http://localhost:8000/,如果你看到返回了一个错误，并且错误信息是{&#34;message&#34;:&#34;no Route matched with those values&#34;},说明kong是正常启动的
测试插件 在进行插件测试之前，我们需要添加一个kong的服务，这里的话用kong`s Admin API 去进行操作
curl -i -X POST \ --url http://localhost:8001/services/ \ --data &#39;name=example-service&#39; \ --data &#39;url=http://konghq.com&#39; 在添加完service之后，我们需要添加一个route，这样kong就可以进行代理我们的请求
...</p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to Kong自定义插件初体验" href="http://localhost:1313/kong%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8F%92%E4%BB%B6%E5%88%9D%E4%BD%93%E9%AA%8C/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Mysql锁
    </h2>
  </header>
  <div class="entry-content">
    <p>MySql锁 InnoDB中的锁 锁的类型 共享锁(S Lock)允许事务读一行数据 排他锁 (X Lock)允许事务删除或更新一行数据 X S X 不兼容 不兼容 S 不兼容 兼容 意向锁 InnoDB支持多粒度的锁定，这种锁定允许事务在行级上的锁和表级上的锁同时存在，为了支持不同粒度上进行加锁，InnoDB支持一种额外的锁的方式，意向锁。意向锁会把锁定的对象分成多个层次，意向锁意味着事务希望在更细粒度上进行加锁。
把上锁对象看成树，如果要对页上的记录r进行上X锁，那么分别需要对数据库A、表、页上意向锁IX，最后记录r上X锁，如果其中任何一个部分导致等待，那么该操作需要等待粗粒度锁的完成。比如说对r记录加x锁之前，已经有一个事务对表1进行了S表锁，那么之后的事务要对记录r在表1上加上IX，必须要等待表锁操作完成
意向共享锁(IS Lock)，事务想要获得一张表里的某几行的共享锁 意向排他锁(IX Lock)，事务要想获得一张表里的某几行的排他锁 IS IX S X IS 兼容 兼容 兼容 不兼容 IX 兼容 兼容 不兼容 不兼容 S 兼容 不兼容 兼容 不兼容 X 不兼容 不兼容 不兼容 不兼容 一致性非锁定读 一致性非锁定读是指InnoDB通过行多版本控制的方式来读取当前执行时间数据库中的行数据。如果读取的行数据正在进行DELETE或UPDATE操作，这个时候读取操作不会等待行上锁的释放。相反的InnoDB会去读取行数据的一个快照数据。快照数据是指，改行之前版本的数据，一个行的记录可能会存在多个版本的快照数据，这样的多版本技术就是MVCC(Multi Version Concurrency Control)是通过undo段来完成的，而undo段数据使用来进行事务回滚的,所以不会有额外的开销。
在事务隔离级别READ COMMITED和REPETABLE READ中，Innodb采用一致性非锁定读，但是在这两个隔离级别下，读取的数据版本并不是一样的。
...</p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to Mysql锁" href="http://localhost:1313/mysql%E9%94%81/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">RabbitMQ学习笔记
    </h2>
  </header>
  <div class="entry-content">
    <p>Linux下一些rabbitmq的命令 systemctl start rabbitmq-server #启动 systemctl restart rabbitmq-server #重启 systemctl stop rabbitmq-server #停止 systemctl status rabbitmq-server #查看状态 rabbitmqctl list_users #查看用户 rabbitmqctl list_queues #查看队列 rabbitmqctl status #查看borker状态 rabbitmqctl purget_queue 队列名称 #删除指定队列中数据 rabbitmqctl delete_queue 队列名称 #删除指定队列 rabbitmqctl help #帮助命令 rabbitmqctl add_user root root #添加用户 username password rabbitmqctl set_permissions -p / root &#34;.*&#34; &#34;.*&#34; &#34;.*&#34; #给root设置全部权限 rabbitmqctl set_user_tags root administrator #给root设置管理员角色 rabbitmqctl list_queues name messages_ready #查看ready 消息 rabbitmq-plugins list #查看插件 rabbitmq-plugins enable #启动插件 rabbitmq-plugins disable #停止插件 rabbitmq-plugins help #帮助命令 RabbitMq运转流程 生产者 连接到一个RabbitMQ Broker 建立一个连接，开通一个信道 声明一个交换器，并设置相关属性，比如交换机的类型、是否持久化等 声明一个队列并设置相关的属性，是否排他、是否持久化、是否自动删除等 通过路由键将交换机和队列绑定 生产者发送消息到RabbitMQ Broker 其中包含路由键、交换机等信息 相应的交换机根据路由键查找相匹配的队列 如果没有找到，则更具生产者配置属性选择丢弃或者回退给生产者 关闭信道 关闭连接 消费者 连接到一个RabbitMQ Broker 建立一个连接，开通一个信道 向RabbitMQ Broker请求消费相应队列中的消息，可能会设置相应的回调函数 等待RabbitMQ Broker 回应并投递相应队列中的消息，消费者接受消息 消费者确认（ACK）接受到的消息 RabbitMQ 从队列中删除相应已经确认的消息 关闭信道 关闭连接 信道是建立在Connection之上的虚拟连接，RabbitMQ处理每条AMQP指令都是通过信道来完成的
...</p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to RabbitMQ学习笔记" href="http://localhost:1313/rabbitmq%E5%AD%A6%E4%B9%A0/"></a>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:1313/">Ethan_Gogo</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
